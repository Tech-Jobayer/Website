<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <title>YT Subscription Exchange</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
  <style>
    body { font-family: sans-serif; max-width: 480px; margin: auto; padding: 20px; background:#f9f9f9; }
    h1 { color: #e91e63; }
    input, button { width: 100%; padding: 10px; margin: 8px 0; font-size: 16px; }
    .channel-box { background: white; border: 1px solid #ddd; padding: 10px; margin-bottom: 12px; }
  </style>
</head>
<body>

  <h1>ЁЯУ║ ржЗржЙржЯрж┐ржЙржм рж╕рж╛ржмрж╕рзНржХрзНрж░рж┐ржкрж╢ржи ржПржХрзНрж╕ржЪрзЗржЮрзНржЬ</h1>

  <h3>тЮХ ржирж┐ржЬрзЗрж░ ржЪрзНржпрж╛ржирзЗрж▓ ржпрзБржХрзНржд ржХрж░рзЛ</h3>
  <input id="channelName" placeholder="ржЪрзНржпрж╛ржирзЗрж▓рзЗрж░ ржирж╛ржо рж▓рж┐ржЦрзЛ" />
  <input id="channelUrl" placeholder="ржЪрзНржпрж╛ржирзЗрж▓ URL ржжрж╛ржУ" />
  <button onclick="addChannel()">тЬЕ рж╕рж╛ржмржорж┐ржЯ ржХрж░рзЛ (рзл ржкрзЯрзЗржирзНржЯ ржЦрж░ржЪ рж╣ржмрзЗ)</button>

  <h3>ЁЯФБ рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░рзЗ ржкрзЯрзЗржирзНржЯ ржЙржкрж╛рж░рзНржЬржи ржХрж░рзЛ</h3>
  <div id="channelsList"></div>

<script>
  // рждрзЛржорж╛рж░ Firebase Config ржПржЦрж╛ржирзЗ ржмрж╕рж╛ржирзЛ рж╣рж▓рзЛ
  const firebaseConfig = {
    apiKey: "AIzaSyAC4h55aA0Zz--V5ejyndzR5WC_-9rAPio",
    authDomain: "subscribe-bot-6f9b2.firebaseapp.com",
    databaseURL: "https://subscribe-bot-6f9b2-default-rtdb.firebaseio.com",
    projectId: "subscribe-bot-6f9b2",
    storageBucket: "subscribe-bot-6f9b2.firebasestorage.app",
    messagingSenderId: "141787931031",
    appId: "1:141787931031:web:2108a3e930f5ce4fbc64d2",
    measurementId: "G-HSDKCJB14Y"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  // Channel ржпрзЛржЧ ржХрж░рж╛рж░ ржлрж╛ржВрж╢ржи
  function addChannel() {
    const name = document.getElementById('channelName').value.trim();
    const url = document.getElementById('channelUrl').value.trim();

    if (!name || !url) {
      alert("рж╕ржм ржлрж┐рж▓рзНржб ржкрзВрж░ржг ржХрж░рзЛ");
      return;
    }

    const newChannelRef = db.ref('channels').push();
    newChannelRef.set({ name, url, subscribers: 0 }, () => {
      alert("ржЪрзНржпрж╛ржирзЗрж▓ рж╕рж╛ржмржорж┐ржЯ рж╣рзЯрзЗржЫрзЗ!");
      document.getElementById('channelName').value = '';
      document.getElementById('channelUrl').value = '';
    });
  }

  // ржЪрзНржпрж╛ржирзЗрж▓ рж▓рж┐рж╕рзНржЯ ржжрзЗржЦрж╛ржирзЛрж░ ржлрж╛ржВрж╢ржи
  function loadChannels() {
    const listDiv = document.getElementById('channelsList');
    listDiv.innerHTML = "рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...";

    db.ref('channels').on('value', snapshot => {
      const data = snapshot.val();
      listDiv.innerHTML = '';

      if (!data) {
        listDiv.innerHTML = "<p>ржХрзЛржирзЛ ржЪрзНржпрж╛ржирзЗрж▓ ржирзЗржЗ</p>";
        return;
      }

      Object.keys(data).forEach(key => {
        const ch = data[key];
        const chDiv = document.createElement('div');
        chDiv.className = 'channel-box';
        chDiv.innerHTML = `
          <strong>${ch.name}</strong><br>
          <a href="${ch.url}" target="_blank">тЮбя╕П рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░рждрзЗ ржПржЦрж╛ржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзЛ</a><br>
          <button onclick="doneSubscribe('${key}')">тЬЕ Done (рзл ржкрзЯрзЗржирзНржЯ ржкрж╛ржмрзЗржи)</button>
        `;
        listDiv.appendChild(chDiv);
      });
    });
  }

  // Done ржмрж╛ржЯржирзЗ рж╕рж╛ржмрж╕рзНржХрзНрж░рж┐ржкрж╢ржи ржЪрзЗржХ ржХрж░рзЗ ржкрзЯрзЗржирзНржЯ ржЖржкржбрзЗржЯрзЗрж░ ржЬрж╛рзЯржЧрж╛ (ржбрзЗржорзЛ)
  function doneSubscribe(channelKey) {
    alert("ржПржЦржи рж╕рж╛ржмрж╕рзНржХрзНрж░рж┐ржкрж╢ржи ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛рж░ ржХрзЛржб рж▓рж╛ржЧржмрзЗ (API) ржПржмржВ ржкрзЯрзЗржирзНржЯ ржЖржкржбрзЗржЯ рж╣ржмрзЗ");
    // ржПржЦрж╛ржирзЗ рж╕рж╛ржмрж╕рзНржХрзНрж░рж┐ржкрж╢ржи ржпрж╛ржЪрж╛ржЗ ржУ ржкрзЯрзЗржирзНржЯ рж╣рж┐рж╕рж╛ржм ржпрзБржХрзНржд ржХрж░ржмрзЗ
  }

  // ржкрзЗржЬ рж▓рзЛржб рж╣рж▓рзЗ ржЪрзНржпрж╛ржирзЗрж▓ржЧрзБрж▓рзЛ ржжрзЗржЦрж╛ржУ
  window.onload = loadChannels;
</script>

</body>
</html>